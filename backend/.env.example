# ===========================================
# DESA DIGITAL BACKEND - ENVIRONMENT VARIABLES
# ===========================================
# Salin file ini ke .env dan sesuaikan nilainya
# cp .env.example .env

# -------------------------------------------
# MODE APLIKASI
# -------------------------------------------
# development = untuk pengembangan lokal
# production  = untuk server production
NODE_ENV=development

# Port server backend
PORT=4000

# -------------------------------------------
# DATABASE
# -------------------------------------------
# Format: postgres://USER:PASSWORD@HOST:PORT/DATABASE
# Untuk Docker: postgres://postgres:postgres@postgres:5432/desa_digital
# Untuk lokal:  postgres://postgres:postgres@localhost:5432/desa_digital
DATABASE_URL=postgres://postgres:postgres@localhost:5432/desa_digital

# -------------------------------------------
# JWT AUTHENTICATION
# -------------------------------------------
# PENTING: Ganti dengan string acak untuk production!
# Generate dengan: openssl rand -hex 32
JWT_SECRET=dev-jwt-secret-change-in-production
JWT_REFRESH_SECRET=dev-jwt-refresh-secret-change-in-production

# Durasi token (opsional, default: 15m untuk access, 7d untuk refresh)
JWT_EXPIRES_IN=15m
REFRESH_TOKEN_EXPIRES_IN=7d

# -------------------------------------------
# ENCRYPTION (untuk RTSP URL)
# -------------------------------------------
# HARUS 64 karakter hexadecimal (32 bytes)
# Generate dengan: openssl rand -hex 32
ENCRYPTION_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

# -------------------------------------------
# CORS (Cross-Origin Resource Sharing)
# -------------------------------------------
# URL frontend yang diizinkan mengakses API
# Development: http://localhost:3000
# Production:  https://cctv.domainanda.com (GANTI dengan domain Anda)
CORS_ORIGIN=http://localhost:3000

# -------------------------------------------
# LOGGING
# -------------------------------------------
# Level: debug, info, warn, error
LOG_LEVEL=debug

# -------------------------------------------
# STREAMING CCTV
# -------------------------------------------
STREAMS_DIR=./streams
FFMPEG_PATH=/usr/bin/ffmpeg
MAX_CONCURRENT_STREAMS=10

# -------------------------------------------
# SECURITY
# -------------------------------------------
LOGIN_MAX_ATTEMPTS=5
LOGIN_LOCKOUT_MINUTES=15
